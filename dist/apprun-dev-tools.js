!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.apprun=t():n.apprun=t()}(this,(function(){return(()=>{"use strict";var n={752:function(n,t,e){var o=this&&this.__assign||function(){return(o=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var r=function(){function n(){this._events={}}return n.prototype.on=function(n,t,e){void 0===e&&(e={}),this._events[n]=this._events[n]||[],this._events[n].push({fn:t,options:e})},n.prototype.off=function(n,t){var e=this._events[n]||[];this._events[n]=e.filter((function(n){return n.fn!==t}))},n.prototype.find=function(n){return this._events[n]},n.prototype.run=function(n){for(var t=this,e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var r=this._events[n]||[];return console.assert(r&&r.length>0,"No subscriber for event: "+n),this._events[n]=r.filter((function(n){return!n.options.once})),r.forEach((function(o){var r=o.fn,u=o.options;return u.delay?t.delay(n,r,e,u):r.apply(t,e),!o.options.once})),r.length},n.prototype.once=function(n,t,e){void 0===e&&(e={}),this.on(n,t,o(o({},e),{once:!0}))},n.prototype.delay=function(n,t,e,o){var r=this;o._t&&clearTimeout(o._t),o._t=setTimeout((function(){clearTimeout(o._t),t.apply(r,e)}),o.delay)},n}();t.App=r;var u,i="object"==typeof self&&self.self===self&&self||"object"==typeof e.g&&e.g.global===e.g&&e.g;i.app&&i._AppRunVersions?u=i.app:(u=new r,i.app=u,i._AppRunVersions="AppRun-1"),t.default=u},965:(n,t)=>{var e;function o(n){(e=window.open("",n)).document.write("<html>\n  <title>AppRun Analyzer | "+document.location.href+'</title>\n  <style>\n    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI" }\n  </style>\n  <body><pre>')}function r(n){e.document.write(n+"\n")}function u(){e.document.write("</pre>\n  </body>\n  </html>"),e.document.close()}Object.defineProperty(t,"__esModule",{value:!0}),t._createStateTests=t._createEventTests=void 0,app.debug=!0,t._createEventTests=function(){var n={components:{}};app.run("get-components",n);var t=n.components;o(""),Object.keys(t).forEach((function(n){t[n].forEach((function(n){r("const component = "+n.constructor.name+";"),r("describe('"+n.constructor.name+"', ()=>{"),n._actions.forEach((function(n){r("  it ('should handle event: "+n.name+"', ()=>{"),r("    component.run('"+n.name+"');"),r("    expect(component.state).toBeTruthy();"),r("  })")})),r("});")}))})),u()};var i=!1,l=[];app.on("debug",(function(n){i&&n.vdom&&(l.push(n),console.log("* "+l.length+" state(s) recorded."))})),t._createStateTests=function(n){"start"===n?(l=[],i=!0,console.log("* State logging started.")):"stop"===n?(0!==l.length?(o(""),l.forEach((function(n,t){r("  it ('view snapshot: #"+(t+1)+"', ()=>{"),r("    const component = "+n.component.constructor.name+";"),r("    const state = "+JSON.stringify(n.state,void 0,2)+";"),r("    const vdom = component['view'](state);"),r("    expect(JSON.stringify(vdom)).toMatchSnapshot();"),r("  })")})),u()):console.log("* No state recorded."),i=!1,l=[],console.log("* State logging stopped.")):console.log("create-state-tests <start|stop>")}},920:function(n,t,e){var o,r=this&&this.__read||function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var o,r,u=e.call(n),i=[];try{for(;(void 0===t||t-- >0)&&!(o=u.next()).done;)i.push(o.value)}catch(n){r={error:n}}finally{try{o&&!o.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}return i},u=this&&this.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(r(arguments[t]));return n},i=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(e(752)),a=i(e(693)),c=e(965);function s(n){var t=window.open("","_apprun_debug","toolbar=0");t.document.write("<html>\n  <title>AppRun Analyzer | "+document.location.href+'</title>\n  <style>\n    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI" }\n    li { margin-left: 80px; }\n  </style>\n  <body>\n  <div id="main">'+n+"</div>\n  <\/script>\n  </body>\n  </html>"),t.document.close()}l.default.debug=!0,window["_apprun-help"]=["",function(){Object.keys(window).forEach((function(n){n.startsWith("_apprun-")&&("_apprun-help"===n?console.log("AppRun Commands:"):console.log("* "+n.substring(8)+": "+window[n][0]))}))}];var f=function(){var n={components:{}};return l.default.run("get-components",n),n.components},p=Number(null===(o=null===window||void 0===window?void 0:window.localStorage)||void 0===o?void 0:o.getItem("__apprun_debugging__"))||0;if(l.default.on("debug",(function(n){1&p&&n.event&&console.log(n),2&p&&n.vdom&&console.log(n)})),window["_apprun-components"]=["components [print]",function(n){!function(n){var t,e,o,r=f(),u=[];if(Object.keys(r).forEach((function(n){var t="string"==typeof n?document.getElementById(n):n,e=r[n].map((function(n){return{component:n,events:n._actions}}));u.push({element:t,comps:e})})),n){var i=(t=r,e=function(n){var t=n.events;return l.default.h("ul",null,t&&t.map((function(n){return l.default.h("li",null,n.name)})))},o=function(n){var t=n.components;return l.default.h("ul",null,t.map((function(n){return l.default.h("li",null,l.default.h("div",null,n.constructor.name),l.default.h(e,{events:n._actions}))})))},l.default.h("ul",null,Object.keys(t).map((function(n){return l.default.h("li",null,l.default.h("div",null,"#",n),l.default.h(o,{components:t[n]}))}))));s(a.default(i))}else u.forEach((function(n){var t=n.element,e=n.comps;return console.log(t,e)}))}("print"===n)}],window["_apprun-events"]=["events [print]",function(n){!function(n){var t=l.default._events,e={},o=f();Object.keys(o).forEach((function(n){o[n].forEach((function(n){n._actions.forEach((function(t){e[t.name]=e[t.name]||[],e[t.name].push(n)}))}))}));var r,u,i,c=[];if(Object.keys(e).forEach((function(n){c.push({event:n,components:e[n],global:!!t[n]})})),c.sort((function(n,t){return n.event>t.event?1:-1})).map((function(n){return n.event})),n){var p=(r=c,u=function(n){var t=n.components;return l.default.h("ul",null,t.map((function(n){return l.default.h("li",null,l.default.h("div",null,n.constructor.name))})))},i=function(n){var t=n.events,e=n.global;return l.default.h("ul",null,t&&t.filter((function(n){return n.global===e})).map((function(n){var t=n.event,e=n.components;return l.default.h("li",null,l.default.h("div",null,t),l.default.h(u,{components:e}))})))},l.default.h("div",null,l.default.h("div",null,"GLOBAL EVENTS"),l.default.h(i,{events:r,global:!0}),l.default.h("div",null,"LOCAL EVENTS"),l.default.h(i,{events:r,global:!1})));s(a.default(p))}else console.log("=== GLOBAL EVENTS ==="),c.filter((function(n){return n.global})).forEach((function(n){var t=n.event,e=n.components;return console.log({event:t},e)})),console.log("=== LOCAL EVENTS ==="),c.filter((function(n){return!n.global})).forEach((function(n){var t=n.event,e=n.components;return console.log({event:t},e)}))}("print"===n)}],window["_apprun-log"]=["log [event|view] on|off",function(n,t){var e;"on"===n?p=3:"off"===n?p=0:"event"===n?"on"===t?p|=1:"off"===t&&(p&=-2):"view"===n&&("on"===t?p|=2:"off"===t&&(p&=-3)),console.log("* log "+n+" "+(t||"")),null===(e=null===window||void 0===window?void 0:window.localStorage)||void 0===e||e.setItem("__apprun_debugging__",""+p)}],window["_apprun-create-event-tests"]=["create-event-tests",function(){return c._createEventTests()}],window["_apprun-create-state-tests"]=["create-state-tests <start|stop>",function(n){return c._createStateTests(n)}],window._apprun=function(n){var t=r(n[0].split(" ").filter((function(n){return!!n}))),e=t[0],o=t.slice(1),i=window["_apprun-"+e];i?i[1].apply(i,u(o)):window["_apprun-help"][1]()},console.info('AppRun DevTools 2.26.2: type "_apprun `help`" to list all available commands.'),window.__REDUX_DEVTOOLS_EXTENSION__){var d=!1,v=window.__REDUX_DEVTOOLS_EXTENSION__.connect();if(v){var h=location.hash||"#";v.send(h,"");var m=[{component:null,state:""}];console.info("Connected to the Redux DevTools"),v.subscribe((function(n){if("START"===n.type)d=!0;else if("STOP"===n.type)d=!1;else if("DISPATCH"===n.type){var t=n.payload.index;if(0===t)l.default.run(h);else{var e=m[t],o=e.component,r=e.state;null==o||o.setState(r)}}}));var y=function(n,t,e){null!=e&&(m.push({component:n,state:e}),v.send(t,e))};l.default.on("debug",(function(n){if(d&&n.event){var t=n.newState,e={type:n.event,payload:n.p},o=n.component;t instanceof Promise?t.then((function(n){return y(o,e,n)})):y(o,e,t)}}))}}},693:(n,t)=>{function e(n){return n.map((function(n){return r(n)})).join("")}function o(n){for(var t in n)null==n[t]?delete n[t]:"object"==typeof n[t]&&o(n[t])}function r(n){if(!n)return"";if(o(n),Array.isArray(n))return e(n);if("string"==typeof n)return n.startsWith("_html:")?n.substring(6):n;if(n.tag){var t=n.props?function(n){return Object.keys(n).map((function(t){return" "+("className"===t?"class":t)+'="'+("object"==typeof(e=n[t])?Object.keys(e).map((function(n){return n+":"+e[n]})).join(";"):e.toString())+'"';var e})).join("")}(n.props):"",r=n.children?e(n.children):"";return"<"+n.tag+t+">"+r+"</"+n.tag+">"}return"object"==typeof n?JSON.stringify(n):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}},t={};function e(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return n[o].call(r.exports,r,r.exports,e),r.exports}return e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),e(920)})()}));
//# sourceMappingURL=apprun-dev-tools.js.map